import{r as i,U as h,ac as x,ad as g,S as e,ab as o}from"./index-f65cf5b0.js";const b=m=>{const{user:s}=i.useContext(h),c=m.onLogout,[a,r]=i.useState(null),u=x(),{theme:t,setTheme:l}=i.useContext(g);return t||l({isThemeDark:!1}),i.useEffect(()=>{(async()=>{try{if(s.korisnickoIme!==""){const n=await fetch(`/api/user/image/${s.korisnickoIme}`);if(n.ok){const k=await n.blob(),d=URL.createObjectURL(k);r(d)}else r("/slike/placeHolder.png")}}catch(n){console.error("Error fetching profile picture:",n),r("/slike/placeHolder.png")}})()},[s.korisnickoIme]),i.useEffect(()=>{s.korisnickoIme||r("/slike/bytepit-usericon.png")},[s.korisnickoIme]),i.useEffect(()=>{document.documentElement.setAttribute("data-theme",t.isThemeDark?"dark":"light")},[t.isThemeDark]),e.jsxs("div",{className:"navbar-container",children:[e.jsx("div",{className:"logo-container",children:e.jsx(o,{to:"/",children:e.jsx("img",{src:"/slike/logo-bytepit.png",alt:"BytePit logo"})})}),e.jsxs("div",{className:"navbar-options-container",children:[e.jsx(o,{to:"/",children:e.jsx("button",{children:"kalendar"})}),e.jsx(o,{to:"/user/all",children:e.jsx("button",{children:"korisnici"})}),e.jsx(o,{to:"/problems/all",children:e.jsx("button",{children:"zadaci"})}),e.jsx("button",{onClick:()=>{l({isThemeDark:!t.isThemeDark})},children:t.isThemeDark?"‚òÄÔ∏è":"üåô"})]}),s.korisnickoIme?e.jsx("div",{className:"loginDiv",children:u.pathname===`/user/profile/${s.korisnickoIme}`?e.jsx("button",{onClick:c,children:"odjavi se"}):e.jsxs(o,{to:`/user/profile/${s.korisnickoIme}`,children:[a?e.jsx("img",{className:"userIconImg",src:a,alt:"BytePit unregistered user icon"}):e.jsx("img",{className:"userIconImg",src:"/slike/bytepit-usericon.png",alt:"Default icon"}),e.jsxs("p",{className:"korisnikIme",children:[" ",s.korisnickoIme]}),e.jsx("button",{onClick:c,children:"odjavi se"})]})}):e.jsx("div",{className:"loginDiv",children:e.jsxs(o,{to:"/login",children:[e.jsx("img",{className:"userIconImg",src:"/slike/bytepit-usericon.png",alt:"BytePit unregistered user icon"}),e.jsx("button",{children:"prijavi se"})]})})]})};export{b as default};
