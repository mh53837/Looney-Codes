import{R as o,Q as u,r as s,U as I,ad as B,S as e,ab as x,M as j,ai as T}from"./index-1bf42253.js";const C=o.lazy(()=>u(()=>import("./ProblemUpdateForm-79c881d3.js"),["assets/ProblemUpdateForm-79c881d3.js","assets/index-1bf42253.js","assets/index-31c4133f.css","assets/CompetitionUpdateForm-191f03f1.css"])),S=o.lazy(()=>u(()=>import("./EvaluationTests-25647f97.js"),["assets/EvaluationTests-25647f97.js","assets/index-1bf42253.js","assets/index-31c4133f.css","assets/CompetitionUpdateForm-191f03f1.css"])),z=({problemsData:r,onUpdate:p,userData:i})=>{const{user:d}=s.useContext(I),[l,c]=s.useState(!1),[k,h]=s.useState(null),{theme:v}=s.useContext(B),m=n=>{if(n)return e.jsx(T,{dataSource:r,columns:[{title:"korisničko ime",dataIndex:"voditelj",key:"korisnickoIme",className:"th-td"},{title:"naziv",dataIndex:"nazivZadatka",key:"nazivZadatka",className:"th-td",sorter:(a,t)=>a.nazivZadatka.localeCompare(t.nazivZadatka)},{title:"tekst",dataIndex:"tekstZadatka",key:"tekstZadatka",className:"th-td",ellipsis:!0,render:a=>e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:a})},{title:"broj bodova",dataIndex:"brojBodova",key:"brojBodova",className:"th-td",sorter:(a,t)=>a.brojBodova-t.brojBodova},{title:"vremensko ograničenje",dataIndex:"vremenskoOgranicenje",key:"vremenskoOgranicenje",className:"th-td",sorter:(a,t)=>a.vremenskoOgranicenje-t.vremenskoOgranicenje},...d.uloga==="NATJECATELJ"?[{title:"",dataIndex:"zadatakId",key:"action",className:"th-td",render:a=>e.jsx(x,{to:`/problem/${a}`,children:"riješi"})}]:[],...d.uloga==="VODITELJ"&&d.korisnickoIme===i.korisnickoIme||d.uloga==="ADMIN"?[{title:"status",dataIndex:"privatniZadatak",key:"status",className:"th-td",sorter:(a,t)=>(a.privatniZadatak?1:-1)-(t.privatniZadatak?1:-1),render:a=>e.jsxs("div",{children:[a&&e.jsx("p",{children:"privatni"}),!a&&e.jsx("p",{children:"javni"})]})},{title:"",key:"edit",className:"th-td",render:a=>e.jsx("span",{children:e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"učitavanje..."}),children:e.jsx(C,{zadatakId:a.zadatakId??0,onUpdateSuccess:g})})})},{title:"",key:"tests",className:"th-td",render:a=>e.jsx("span",{children:e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"učitavanje..."}),children:e.jsx("button",{onClick:()=>b(a.zadatakId),children:"prikaži testove"})})})}]:[]],pagination:!1,rowKey:"zadatakId",showSorterTooltip:!1,style:{tableLayout:"fixed"},scroll:{x:!0}})},g=()=>{p()},b=n=>{h(n),c(!0)},f=()=>{c(!1),h(null)};return s.useEffect(()=>{},[v.isThemeDark]),e.jsxs("div",{className:"problemContainer",children:[d.korisnickoIme===i.korisnickoIme&&e.jsx(x,{to:"/problems/new",children:e.jsx("button",{className:"addBtn",children:"novi zadatak"})}),r?r.length===0?e.jsx("div",{children:"nema zadataka"}):e.jsx("div",{className:"tableWrapper",children:e.jsx("div",{className:"info-table",children:v.isThemeDark===!1?e.jsx(j,{theme:{components:{Table:{cellPaddingBlock:16,cellPaddingInline:6,headerBg:"#f4c95de7",rowHoverBg:"#f4c95d52",borderColor:"#00000085",headerFilterHoverBg:"#f4c95de7",headerSortActiveBg:"#f4c95de7",headerSortHoverBg:"#f4c95da9",headerBorderRadius:0,colorPrimary:"#dd7230",headerSplitColor:"transparent",colorBgContainer:"#fff",colorText:"#000"}}},children:m(r)}):e.jsx(j,{theme:{components:{Table:{cellPaddingBlock:16,cellPaddingInline:6,headerBg:"#dd7230",rowHoverBg:"#dcdcdc34",borderColor:"#00000085",headerFilterHoverBg:"#dd7230e0",headerSortActiveBg:"#dd7230e0",headerSortHoverBg:"#dd7230",headerBorderRadius:0,colorPrimary:"#f4c95d",headerSplitColor:"transparent",colorBgContainer:"#2A2D34",colorText:" #ECDCC9"}}},children:m(r)})})}):e.jsx("p",{children:"greška prilikom dohvaćanja zadataka"}),l&&k&&e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"učitavanje..."}),children:e.jsx(S,{zadatakId:k,visible:l,onClose:f})})]})};export{z as default};
