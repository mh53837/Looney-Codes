import{af as x,r as c,ae as B,S as o,M as f,ai as p,aj as w}from"./index-60b6e0ac.js";const b=({zadatakId:a,natjecatelj:n})=>{const{nadmetanjeId:d}=x(),[i,m]=c.useState([]),{theme:u}=c.useContext(B);c.useEffect(()=>{(async()=>{try{const e=await fetch(`/api/solutions/get/competition/${d}?zadatak=${a}&natjecatelj=${n}`);if(!e.ok)throw new Error("Failed to fetch data");const h=await e.json();m(h)}catch(e){console.error("Error fetching data:",e)}})()},[d,a,n]);const j=async r=>{try{const e=await fetch(`/api/solutions/code?rbr=${r}&zadatak=${a}&natjecatelj=${n}`);if(!e.ok)throw new Error("Failed to fetch solution code");let t=(await e.text()).replace(/\\n/g,`
`);t=t.substring(1,t.length-1);const g=new Blob([t],{type:"text/plain"}),s=document.createElement("a");s.href=window.URL.createObjectURL(g),s.download=`solution_${r}.cpp`,s.click()}catch(e){console.error("Error downloading solution code:",e)}},l=[{title:"Rješenje",dataIndex:"rBr",key:"rBr"},{title:"Rješenost (%)",dataIndex:"postotakTocnihPrimjera",key:"postotakTocnihPrimjera"},{title:"Preuzimanje",key:"actions",render:r=>o.jsx(w,{className:"download",onClick:()=>j(r.rBr),children:o.jsx("span",{children:"Dohvati"})})}];return o.jsx("div",{className:"tableWrapper",children:o.jsx("div",{className:"info-table",children:u.isThemeDark==!1?o.jsx(f,{theme:{components:{Table:{headerBg:"#f4c95de7",rowHoverBg:"#f4c95d52",borderColor:"#00000085",headerFilterHoverBg:"#f4c95de7",headerSortActiveBg:"#f4c95de7",headerSortHoverBg:"#f4c95da9",headerBorderRadius:0,colorPrimary:"#dd7230",headerSplitColor:"transparent",colorBgContainer:"#fff",colorText:"#000"}}},children:o.jsx(p,{pagination:!1,dataSource:i,columns:l})}):o.jsx(f,{theme:{components:{Table:{headerBg:"#dd7230",rowHoverBg:"#dcdcdc34",borderColor:"#00000085",headerFilterHoverBg:"#dd7230e0",headerSortActiveBg:"#dd7230e0",headerSortHoverBg:"#dd7230",headerBorderRadius:0,colorPrimary:"#f4c95d",headerSplitColor:"transparent",colorBgContainer:"#2A2D34",colorText:" #ECDCC9"}}},children:o.jsx(p,{pagination:!1,dataSource:i,columns:l})})})})};export{b as default};
