import{R as i,Q as c,r as n,U as h,S as e,ac as d}from"./index-bf016af3.js";const j=i.lazy(()=>c(()=>import("./Problems-557ab770.js"),["assets/Problems-557ab770.js","assets/index-bf016af3.js","assets/index-59044873.css"])),m=()=>{const[l,a]=n.useState([]),{user:t}=n.useContext(h);return n.useEffect(()=>{if(t&&t.uloga==="ADMIN"){const r={method:"GET",headers:{Authorization:`Basic ${btoa(`${t.korisnickoIme}:${t.lozinka}`)}`,"Content-Type":"application/json"}};fetch("/api/problems/adminView",r).then(o=>o.json()).then(o=>a(o)).catch(o=>console.error("Error fetching problems:",o))}else fetch("/api/problems/all").then(s=>s.json()).then(s=>a(s)).catch(s=>console.error("Error fetching problems:",s))},[t]),e.jsxs("div",{children:[t.uloga==="VODITELJ"&&e.jsx(d,{to:"/problems/new",children:e.jsx("button",{className:"addBtn",children:"novi zadatak"})}),e.jsx("div",{className:"info-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"voditelj"}),e.jsx("th",{children:"naziv"}),e.jsx("th",{children:"tekst"}),e.jsx("th",{children:"težina"})]})}),e.jsx("tbody",{children:l.map((s,r)=>e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"učitavanje..."}),children:e.jsx(j,{problem:s},r)}))})]})})]})};export{m as default};
