import{R as i,Q as c,r as o,U as h,S as e,ab as d}from"./index-f65cf5b0.js";const j=i.lazy(()=>c(()=>import("./Problems-3e48c90f.js"),["assets/Problems-3e48c90f.js","assets/index-f65cf5b0.js","assets/index-8c872585.css"])),m=()=>{const[l,a]=o.useState([]),{user:t}=o.useContext(h);return o.useEffect(()=>{if(t&&t.uloga==="ADMIN"){const n={method:"GET",headers:{Authorization:`Basic ${btoa(`${t.korisnickoIme}:${t.lozinka}`)}`,"Content-Type":"application/json"}};fetch("/api/problems/adminView",n).then(r=>r.json()).then(r=>a(r)).catch(r=>console.error("Error fetching problems:",r))}else fetch("/api/problems/all").then(s=>s.json()).then(s=>a(s)).catch(s=>console.error("Error fetching problems:",s))},[t]),e.jsxs("div",{children:[t.uloga==="VODITELJ"&&e.jsx(d,{to:"/problems/new",children:e.jsx("button",{className:"addBtn",children:"novi zadatak"})}),e.jsx("div",{className:"info-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"voditelj"}),e.jsx("th",{children:"naziv"}),e.jsx("th",{children:"tekst"}),e.jsx("th",{children:"težina"}),t.uloga==="NATJECATELJ"&&e.jsx("th",{children:"rješenja"})]})}),e.jsx("tbody",{children:l.map((s,n)=>e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"učitavanje..."}),children:e.jsx(j,{problem:s},n)}))})]})})]})};export{m as default};
